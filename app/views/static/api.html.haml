%h1 API

%p The API allows you to programatically retrieve data from any public scraper using an SQL query. It's all pretty easy.

%pre
  %code http://127.0.0.1:3000/<em>[scraper]</em>/data.json?query=<em>[sql]</em>

%h2 parameters

%dl
  %dt <em>[scraper]</em>
  %dd The full name of the scraper as seen in the url (e.g. mlandauer/scraper-blue-mountains)
  %dt <em>[sql]</em>
  %dd
    The SQL query to perform on the SQLite database that is the output of the scraper (e.g. "select * from swdata limit 10"). Ensure it is #{link_to "url encoded", "https://en.wikipedia.org/wiki/Percent-encoding"}.

%p
  For example, to retrieve data from the
  = link_to "mlandauer/scraper-blue-mountains scraper", "http://127.0.0.1:3000/mlandauer/scraper-blue-mountains"  
  with the SQL query "select * from swdata limit 10"

%pre
  %code= link_to "http://127.0.0.1:3000/mlandauer/scraper-blue-mountains/data.json?query=select+*+from+swdata+limit+10", "http://127.0.0.1:3000/mlandauer/scraper-blue-mountains/data.json?query=select+*+from+swdata+limit+10"
